import{f as p,a as n,t as L,c as ea}from"../chunks/CPI-Sj6W.js";import{p as ta,G as O,g as t,a as ra,L as sa,C as r,E as s,s as v,z as d,$ as la,F as l,B as q}from"../chunks/DZJbeXPm.js";import{s as E}from"../chunks/DRMUDMiI.js";import{i as u}from"../chunks/LXw8YH9d.js";import{h as oa,b as B,r as D}from"../chunks/D8iSYxBw.js";import{d as ia,e as na}from"../chunks/D1vpSegM.js";import{a as P}from"../chunks/DOQewpRz.js";var va=p('<div class="alert alert-error"> </div>'),ca=p('<div class="form-group"><label class="label" for="name">Name</label> <input class="input" type="text" id="name" required placeholder="Your name"/></div>'),da=p('Already have an account? <button class="link-btn svelte-1x05zx6" type="button">Sign in</button>',1),ua=p(`Don't have an account? <button class="link-btn svelte-1x05zx6" type="button">Create one</button>`,1),pa=p('<div class="login-page svelte-1x05zx6"><div class="login-card card svelte-1x05zx6"><h1 class="svelte-1x05zx6"> </h1> <p class="subtitle svelte-1x05zx6"> </p> <!> <form><!> <div class="form-group"><label class="label" for="email">Email</label> <input class="input" type="email" id="email" required placeholder="you@example.com"/></div> <div class="form-group"><label class="label" for="password">Password</label> <input class="input" type="password" id="password" required minlength="8" placeholder="Min 8 characters"/></div> <button class="btn btn-primary btn-full svelte-1x05zx6" type="submit"><!></button></form> <p class="toggle-mode svelte-1x05zx6"><!></p></div></div>');function ya(W,Y){ta(Y,!0);let m=d(""),f=d(""),_=d(""),b=d(!1),i=d(!1),x=d("");async function j(a){a.preventDefault(),v(_,""),v(b,!0);try{t(i)&&await P.register(t(m),t(f),t(x)),await P.login(t(m),t(f)),window.location.href="/dashboard"}catch(e){v(_,e instanceof Error?e.message:"An error occurred",!0)}finally{v(b,!1)}}var h=pa();oa("1x05zx6",a=>{sa(()=>{la.title=`${t(i)?"Register":"Login"} - Open Accounting`})});var R=s(h),y=s(R),H=s(y,!0);l(y);var z=r(y,2),J=s(z,!0);l(z);var F=r(z,2);{var K=a=>{var e=va(),o=s(e,!0);l(e),O(()=>E(o,t(_))),n(a,e)};u(F,a=>{t(_)&&a(K)})}var g=r(F,2),G=s(g);{var Q=a=>{var e=ca(),o=r(s(e),2);D(o),l(e),B(o,()=>t(x),S=>v(x,S)),n(a,e)};u(G,a=>{t(i)&&a(Q)})}var w=r(G,2),I=r(s(w),2);D(I),l(w);var k=r(w,2),M=r(s(k),2);D(M),l(k);var A=r(k,2),T=s(A);{var U=a=>{var e=L("Loading...");n(a,e)},V=a=>{var e=ea(),o=q(e);{var S=c=>{var C=L("Create Account");n(c,C)},aa=c=>{var C=L("Sign In");n(c,C)};u(o,c=>{t(i)?c(S):c(aa,!1)},!0)}n(a,e)};u(T,a=>{t(b)?a(U):a(V,!1)})}l(A),l(g);var N=r(g,2),X=s(N);{var Z=a=>{var e=da(),o=r(q(e));o.__click=()=>v(i,!1),n(a,e)},$=a=>{var e=ua(),o=r(q(e));o.__click=()=>v(i,!0),n(a,e)};u(X,a=>{t(i)?a(Z):a($,!1)})}l(N),l(R),l(h),O(()=>{E(H,t(i)?"Create Account":"Welcome Back"),E(J,t(i)?"Start managing your finances":"Sign in to your account"),A.disabled=t(b)}),na("submit",g,j),B(I,()=>t(m),a=>v(m,a)),B(M,()=>t(f),a=>v(f,a)),n(W,h),ra()}ia(["click"]);export{ya as component};
