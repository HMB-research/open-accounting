import{M as c,D as d,t as b,N as _,O as p,P as g,Q as f,R as m}from"./DZJbeXPm.js";import{s as h}from"./DQcoMPka.js";function v(e,r,s=!1){if(e.multiple){if(r==null)return;if(!_(r))return p();for(var t of e.options)t.selected=r.includes(i(t));return}for(t of e.options){var n=i(t);if(g(n,r)){t.selected=!0;return}}(!s||r!==void 0)&&(e.selectedIndex=-1)}function y(e){var r=new MutationObserver(()=>{v(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),b(()=>{r.disconnect()})}function w(e,r,s=r){var t=new WeakSet,n=!0;c(e,"change",a=>{var o=a?"[selected]":":checked",u;if(e.multiple)u=[].map.call(e.querySelectorAll(o),i);else{var l=e.querySelector(o)??e.querySelector("option:not([disabled])");u=l&&i(l)}s(u),f!==null&&t.add(f)}),d(()=>{var a=r();if(e===document.activeElement){var o=m??f;if(t.has(o))return}if(v(e,a,n),n&&a===void 0){var u=e.querySelector(":checked");u!==null&&(a=i(u),s(a))}e.__value=a,n=!1}),y(e)}function i(e){return"__value"in e?e.__value:e.value}const S=()=>{const e=h;return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}},x={subscribe(e){return S().page.subscribe(e)}};export{w as b,x as p};
